# Room : ORM 라이브러리

### ORM??

ORM( Object-Relational Mapping )은 객체와 관계형 데이터베이스의 데이터( Table )를 매핑하고 변환하는 기술로 복잡한 쿼리를 잘 몰라도 코드만으로 데이터베이스의 모든 것을 컨트롤 할 수있도록 도와준다.

#### ![IMG_86459EAFB31E-1](/Users/chan/Downloads/IMG_86459EAFB31E-1.jpeg)

### Room

Room 라이브러리는 @Entity 어노테이션이 적용된 클래스를 찾아 테이블로 변환한다. 데이터베이스에서 테이블명을 클래스명과 다르게 하고 싶을 때는 @Entity(tableName = "테이블명")과 같이 작성하면된다.

Room은 데이터베이스에 읽고 쓰는 메서드를 인터페이스 형태로 설계하고 사용한다. 코드 없이 이름만 명시하는 형태로 인터페이스를 만들면 Room이 나머지 코드를 자동 생성한다.



#### 어노테이션

- @명령어 처럼 주석 형태의 문자열을 실제 코드로 생성해준다. 어노테이션이 컴파일 시에 코드로 생성되기 때문에 성능 문제가 많이 개선이 된다.

| 어노테이션  | 위치       | 옵션                      |
| ----------- | ---------- | ------------------------- |
| @Database   | 클래스     | 데이터베이스              |
| @Entity     | 클래스     | 테이블                    |
| @ColumnInfo | 멤버변수   | 컬럼                      |
| @primaryKey | 멤버변수   | 컬럼 옵션                 |
| @Dao        | 인터페이스 | 실행 메서드 인터페이스    |
| @Query      | 멤버메서드 | 쿼리를 직접 작성하고 실행 |
| @Insert     | 멤버메서드 | 중복 시 수정              |
| @Delete     | 멤버메서드 | 삭제                      |



### DAO

- Data Access Object 의 약어로 데이터베이스에 접근해서 DML 쿼리를 실행하는 메서드의 모음이다.

### RoomHelper

SQLiteOpenHelper를 상속받아 구현했던 것처럼 Room도 유사한 구조로 사용할 수 있다. Room은 RoomDatebase를 제공하는데 
RoomDatabase를 상속받아 클래스를 생성하면 된다. (추상클래스로 생성해야함) 클래스명 위에 @Database 어노테이션을 작성

